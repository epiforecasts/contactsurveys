[{"path":"http://epiforecasts.io/contactsurveys/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 contactsurveys authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://epiforecasts.io/contactsurveys/articles/contactsurveys.html","id":"usage","dir":"Articles","previous_headings":"","what":"Usage","title":"Introduction to contactsurveys","text":"contactsurveys provides access surveys Social contact data community Zenodo. available surveys can listed (internet connection available) : default, survey data list_surveys() effectively cached, run quickly next time run . data also persist across R sessions. expand , downloads package downloaded default location specified contactsurveys_dir(), uses tools::R_user_dir() hood find appropriate place write files. can also control files saved setting environment variable, CONTACTSURVEYS_HOME. See ?Sys.setenv() ?Renviron detail. Surveys can downloaded using download_survey(). get relevant data survey given Zenodo DOI (returned list_surveys()). reference given survey can obtained passing DOI get_citation():","code":"list_surveys() #> Skipping download #> ℹ Files already exist at #>   '/Users/nick_1/Library/Application Support/org.R-project.R/R/contactsurveys/survey_list.rds' #>   and `overwrite = FALSE` #> ℹ Set `overwrite = TRUE` to force a re-download. #> Key: <date_added> #>     date_added #>         <char> #>  1: 2017-11-07 #>  2: 2017-12-07 #>  3: 2017-12-22 #>  4: 2018-01-23 #>  5: 2018-02-05 #>  6: 2018-06-14 #>  7: 2018-09-05 #>  8: 2019-01-24 #>  9: 2019-08-13 #> 10: 2019-09-16 #> 11: 2020-08-06 #> 12: 2020-09-30 #> 13: 2020-09-30 #> 14: 2020-10-12 #> 15: 2020-10-16 #> 16: 2021-05-06 #> 17: 2021-05-20 #> 18: 2021-05-25 #> 19: 2021-06-07 #> 20: 2021-06-29 #> 21: 2021-06-29 #> 22: 2021-06-29 #> 23: 2021-06-29 #> 24: 2021-06-29 #> 25: 2021-06-29 #> 26: 2021-07-03 #> 27: 2021-07-26 #> 28: 2021-07-26 #> 29: 2021-08-20 #> 30: 2022-04-11 #> 31: 2022-05-10 #> 32: 2022-05-10 #> 33: 2022-05-10 #> 34: 2022-05-10 #> 35: 2022-05-12 #> 36: 2022-05-12 #> 37: 2022-05-12 #> 38: 2022-08-22 #> 39: 2023-03-13 #> 40: 2023-05-24 #> 41: 2023-07-07 #> 42: 2024-03-05 #> 43: 2024-05-08 #> 44: 2024-07-27 #> 45: 2025-01-30 #>     date_added #>                                                                                           title #>                                                                                          <char> #>  1:                                                                 POLYMOD social contact data #>  2:                                                                Social contact data for Peru #>  3:                                                            Social contact data for Zimbabwe #>  4:                                                              Social contact data for France #>  5:                                                           Social contact data for Hong Kong #>  6:                                                             Social contact data for Vietnam #>  7:                                                                  Social contact data for UK #>  8:                              Social contact data for Zambia and South Africa (CODA dataset) #>  9:                                                      Social contact data for China mainland #> 10:                                                              Social contact data for Russia #> 11:                                                        CoMix social contact data (Belgium ) #> 12:                                                 Social contact data for Belgium (2010-2011) #> 13:                                                      Social contact data for Belgium (2006) #> 14:                                     Social contact data before and during COVID-19 in China #> 15:                                                            Social contact data for Thailand #> 16:                                                     Social contact data for Thailand (2015) #> 17:                                                         CoMix social contact data (Austria) #> 18:                                                     CoMix social contact data (Netherlands) #> 19:                                                              CoMix social contact data (UK) #> 20:                                                         CoMix social contact data (Denmark) #> 21:                                                           CoMix social contact data (Spain) #> 22:                                                          CoMix social contact data (France) #> 23:                                                           CoMix social contact data (Italy) #> 24:                                                        CoMix social contact data (Portugal) #> 25:                                                          CoMix social contact data (Poland) #> 26:                                                     Social contact data for the Netherlands #> 27:                                                          CoMix social contact data (Greece) #> 28:                                                        CoMix social contact data (Slovenia) #> 29:                                           Social contact data for IDPs in Somaliland (2019) #> 30:                                                              Social contact data for Taiwan #> 31:                                                         CoMix social contact data (Croatia) #> 32:                                                        CoMix social contact data (Slovakia) #> 33:                                                         CoMix social contact data (Hungary) #> 34:                                                         CoMix social contact data (Estonia) #> 35:                                                       CoMix social contact data (Lithuania) #> 36:                                                         CoMix social contact data (Finland) #> 37:                                                     CoMix social contact data (Switzerland) #> 38:                                                               CoMix 2.0 social contact data #> 39:                               Contact data of older adults (70+) in the Netherlands in 2021 #> 40:                                                          Household contact survey (Belgium) #> 41:                                       Contact data of Children in Belgium, Italy and Poland #> 42:        Contact data of Pienter3 (2016-2017) and PiCo (2020-2023) studies in the Netherlands #> 43:                                                CoMix data (last round in BE, CH, NL and UK) #> 44:                           Social contact data for the BHDSS and FWHDSS in the Gambia (2022) #> 45: Social mixing patterns of United States health care personnel at a quaternary health center #>                                                                                           title #>                   creator                                     url #>                    <char>                                  <char> #>  1:          Joël Mossong  https://doi.org/10.5281/zenodo.3874557 #>  2:    Carlos G. Grijalva  https://doi.org/10.5281/zenodo.3874805 #>  3:      Alessia Melegaro  https://doi.org/10.5281/zenodo.3886638 #>  4:      Guillaume Béraud  https://doi.org/10.5281/zenodo.3886590 #>  5:          Kathy  Leung  https://doi.org/10.5281/zenodo.3874808 #>  6:           Horby Peter  https://doi.org/10.5281/zenodo.3874802 #>  7:   Albert Jan van Hoek  https://doi.org/10.5281/zenodo.3874717 #>  8:         Peter J. Dodd  https://doi.org/10.5281/zenodo.3874675 #>  9:       Zhang, Juanjuan  https://doi.org/10.5281/zenodo.3878754 #> 10:       Maria Litvinova  https://doi.org/10.5281/zenodo.3874674 #> 11:        Pietro Coletti https://doi.org/10.5281/zenodo.10549953 #> 12:         Willem Lander  https://doi.org/10.5281/zenodo.4302055 #> 13:             Hens Niel  https://doi.org/10.5281/zenodo.4059864 #> 14:        Zhang Juanjuan  https://doi.org/10.5281/zenodo.7326686 #> 15:        Mahikul Wiriya  https://doi.org/10.5281/zenodo.4086739 #> 16:    Weerasak Putthasri  https://doi.org/10.5281/zenodo.4739777 #> 17:            Gimma, Amy  https://doi.org/10.5281/zenodo.6362906 #> 18:       Backer, Jantien  https://doi.org/10.5281/zenodo.7276465 #> 19:            Gimma, Amy https://doi.org/10.5281/zenodo.13684044 #> 20:            Gimma, Amy  https://doi.org/10.5281/zenodo.6362899 #> 21:            Gimma, Amy  https://doi.org/10.5281/zenodo.6362898 #> 22:            Gimma, Amy  https://doi.org/10.5281/zenodo.6362893 #> 23:            Gimma, Amy  https://doi.org/10.5281/zenodo.6362888 #> 24:            Gimma, Amy  https://doi.org/10.5281/zenodo.6362887 #> 25:            Gimma, Amy  https://doi.org/10.5281/zenodo.6362879 #> 26: van de Kassteele, Jan  https://doi.org/10.5281/zenodo.5062244 #> 27:            Gimma, Amy  https://doi.org/10.5281/zenodo.6362870 #> 28:            Gimma, Amy  https://doi.org/10.5281/zenodo.6362865 #> 29:  van Zandvoort, Kevin  https://doi.org/10.5281/zenodo.7071876 #> 30:         Fu, Yang-Chih  https://doi.org/10.5281/zenodo.6385759 #> 31:            Gimma, Amy  https://doi.org/10.5281/zenodo.7257433 #> 32:            Gimma, Amy  https://doi.org/10.5281/zenodo.6535357 #> 33:            Gimma, Amy  https://doi.org/10.5281/zenodo.6535344 #> 34:            Gimma, Amy  https://doi.org/10.5281/zenodo.6535313 #> 35:            Gimma, Amy  https://doi.org/10.5281/zenodo.6542668 #> 36:            Gimma, Amy  https://doi.org/10.5281/zenodo.6542664 #> 37:            Gimma, Amy  https://doi.org/10.5281/zenodo.6542657 #> 38:       Coletti, Pietro  https://doi.org/10.5281/zenodo.7331926 #> 39:     Jantien A. Backer  https://doi.org/10.5281/zenodo.7751724 #> 40:      Goeyvaerts, Nele  https://doi.org/10.5281/zenodo.7965594 #> 41:        Coletti,Pietro  https://doi.org/10.5281/zenodo.8123632 #> 42:       Backer, Jantien https://doi.org/10.5281/zenodo.10370353 #> 43:   Jarvis, Christopher https://doi.org/10.5281/zenodo.11154066 #> 44:           Osei, Isaac https://doi.org/10.5281/zenodo.13101862 #> 45:       Pischel, Lauren https://doi.org/10.5281/zenodo.14156576 #>                   creator                                     url polymod_doi <- \"https://doi.org/10.5281/zenodo.3874557\" polymod_survey_files <- download_survey(polymod_doi) #> Fetching contact survey filenames from: https://doi.org/10.5281/zenodo.3874557. #> ℹ Successfully fetched list of published records - page 1 #>  #> ✔ Successfully fetched list of published records! #>  #> ✔ Successfully fetched record for DOI '10.5281/zenodo.3874557'! #>  #> Downloading from https://doi.org/10.5281/zenodo.3874557. #> ! Overwrite is 'false', aborting download of existing files #>  #> ℹ Download in sequential mode #> [zen4R][INFO] ZenodoRecord - Download in sequential mode #> ℹ Will download 7 files from record '3874557' (doi: '10.5281/zenodo.3874557') - total size: 7.4 MiB #> [zen4R][INFO] ZenodoRecord - Will download 7 files from record '3874557' (doi: '10.5281/zenodo.3874557') - total size: 7.4 MiB #> ℹ Downloading file '2008_Mossong_POLYMOD_hh_common.csv' - size: 120 KiB #> [zen4R][INFO] Downloading file '2008_Mossong_POLYMOD_hh_common.csv' - size: 120 KiB #> ℹ Downloading file '2008_Mossong_POLYMOD_contact_common.csv' - size: 6.2 MiB #> [zen4R][INFO] Downloading file '2008_Mossong_POLYMOD_contact_common.csv' - size: 6.2 MiB #> ℹ Downloading file '2008_Mossong_POLYMOD_dictionary.xls' - size: 41 KiB #> [zen4R][INFO] Downloading file '2008_Mossong_POLYMOD_dictionary.xls' - size: 41 KiB #> ℹ Downloading file '2008_Mossong_POLYMOD_hh_extra.csv' - size: 523 KiB #> [zen4R][INFO] Downloading file '2008_Mossong_POLYMOD_hh_extra.csv' - size: 523 KiB #> ℹ Downloading file '2008_Mossong_POLYMOD_participant_common.csv' - size: 153.1 KiB #> [zen4R][INFO] Downloading file '2008_Mossong_POLYMOD_participant_common.csv' - size: 153.1 KiB #> ℹ Downloading file '2008_Mossong_POLYMOD_participant_extra.csv' - size: 221.8 KiB #> [zen4R][INFO] Downloading file '2008_Mossong_POLYMOD_participant_extra.csv' - size: 221.8 KiB #> ℹ Downloading file '2008_Mossong_POLYMOD_sday.csv' - size: 188.7 KiB #> [zen4R][INFO] Downloading file '2008_Mossong_POLYMOD_sday.csv' - size: 188.7 KiB #> ℹ Files downloaded at '/Users/nick_1/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557'. #> [zen4R][INFO] Files downloaded at '/Users/nick_1/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557'. #> ℹ Verifying file integrity... #> [zen4R][INFO] ZenodoRecord - Verifying file integrity... #> ℹ File '2008_Mossong_POLYMOD_hh_common.csv': integrity verified (md5sum: d7fb1359ad84dba8cce4c444063940aa) #> [zen4R][INFO] File '2008_Mossong_POLYMOD_hh_common.csv': integrity verified (md5sum: d7fb1359ad84dba8cce4c444063940aa) #> ℹ File '2008_Mossong_POLYMOD_contact_common.csv': integrity verified (md5sum: 52baf32033bf780786fae6604043ec00) #> [zen4R][INFO] File '2008_Mossong_POLYMOD_contact_common.csv': integrity verified (md5sum: 52baf32033bf780786fae6604043ec00) #> ℹ File '2008_Mossong_POLYMOD_dictionary.xls': integrity verified (md5sum: 06415516c91b52dedfaa53622e352647) #> [zen4R][INFO] File '2008_Mossong_POLYMOD_dictionary.xls': integrity verified (md5sum: 06415516c91b52dedfaa53622e352647) #> ℹ File '2008_Mossong_POLYMOD_hh_extra.csv': integrity verified (md5sum: b0063f8d1a4f391d919495493611b3f1) #> [zen4R][INFO] File '2008_Mossong_POLYMOD_hh_extra.csv': integrity verified (md5sum: b0063f8d1a4f391d919495493611b3f1) #> ℹ File '2008_Mossong_POLYMOD_participant_common.csv': integrity verified (md5sum: ac784c281a71e15c7e64eaf2d6365709) #> [zen4R][INFO] File '2008_Mossong_POLYMOD_participant_common.csv': integrity verified (md5sum: ac784c281a71e15c7e64eaf2d6365709) #> ℹ File '2008_Mossong_POLYMOD_participant_extra.csv': integrity verified (md5sum: 4e2dd8d6ba2d23bb5b1f236be215b936) #> [zen4R][INFO] File '2008_Mossong_POLYMOD_participant_extra.csv': integrity verified (md5sum: 4e2dd8d6ba2d23bb5b1f236be215b936) #> ℹ File '2008_Mossong_POLYMOD_sday.csv': integrity verified (md5sum: 148c5fc86ca10d385e3d047014e14a09) #> [zen4R][INFO] File '2008_Mossong_POLYMOD_sday.csv': integrity verified (md5sum: 148c5fc86ca10d385e3d047014e14a09) #> ✔ End of download #> [zen4R][INFO] ZenodoRecord - End of download polymod_survey_files #> [1] \"/Users/nick_1/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_contact_common.csv\"     #> [2] \"/Users/nick_1/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_dictionary.xls\"         #> [3] \"/Users/nick_1/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_hh_common.csv\"          #> [4] \"/Users/nick_1/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_hh_extra.csv\"           #> [5] \"/Users/nick_1/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_participant_common.csv\" #> [6] \"/Users/nick_1/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_participant_extra.csv\"  #> [7] \"/Users/nick_1/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_sday.csv\" get_citation(polymod_doi) #>  ℹ Fetching citation  ✔ Citation fetched! [2.3s] #> @dataset{joel_mossong_2020_3874557, #>   author       = {Joël Mossong and #>                   Niel Hens and #>                   Mark Jit and #>                   Philippe Beutels and #>                   Kari Auranen and #>                   Rafael Mikolajczyk and #>                   Marco Massari and #>                   Stefania Salmaso and #>                   Gianpaolo Scalia Tomba and #>                   Jacco Wallinga and #>                   Janneke Heijne and #>                   Malgorzata Sadkowska-Todys and #>                   Magdalena Rosinska and #>                   W. John Edmunds}, #>   title        = {POLYMOD social contact data}, #>   month        = jun, #>   year         = 2020, #>   publisher    = {Zenodo}, #>   version      = 2, #>   doi          = {10.5281/zenodo.3874557}, #>   url          = {https://doi.org/10.5281/zenodo.3874557}, #> }"},{"path":"http://epiforecasts.io/contactsurveys/articles/contactsurveys.html","id":"using-contact-matrices-with-socialmixr","dir":"Articles","previous_headings":"Usage","what":"Using contact matrices with socialmixr","title":"Introduction to contactsurveys","text":"can use survey files downloaded functions socialmixr, load_survey() contact_matrix():","code":"library(socialmixr) # nolint #>  #> Attaching package: 'socialmixr' #> The following objects are masked from 'package:contactsurveys': #>  #>     download_survey, get_citation, list_surveys #> The following object is masked from 'package:devtools': #>  #>     check polymod_loaded <- load_survey(polymod_survey_files) #> Warning: No reference provided. uk_contact_matrix <- contact_matrix(   polymod_loaded,   countries = \"United Kingdom\",   age.limits = c(0, 18, 65) ) #> Removing participants that have contacts without age information. #> ℹ To change this behaviour, set the 'missing.contact.age' option.  uk_contact_matrix #> $matrix #>          contact.age.group #> age.group   [0,18)  [18,65)       65+ #>   [0,18)  7.813187 5.505495 0.2664835 #>   [18,65) 2.103215 8.174281 0.6463621 #>   65+     1.160714 5.464286 1.7142857 #>  #> $participants #>    age.group participants proportion #>       <char>        <int>      <num> #> 1:    [0,18)          364  0.3600396 #> 2:   [18,65)          591  0.5845697 #> 3:       65+           56  0.0553907"},{"path":[]},{"path":"http://epiforecasts.io/contactsurveys/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sebastian Funk. Author, maintainer. Lander Willem. Author. Hugo Gruson. Author. Maria Bekker-Nielsen Dunbar. Contributor. Carl . B. Pearson. Contributor. Sam Clifford. Contributor. Christopher Jarvis. Contributor. Alexis Robert. Contributor. Niel Hens. Contributor. Pietro Coletti. Collector, data manager. Nicholas Tierney. Author.","code":""},{"path":"http://epiforecasts.io/contactsurveys/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Funk S, Willem L, Gruson H, Tierney N (2026). contactsurveys: Download Contact Surveys use Infectious Disease Modelling. R package version 0.0.0.9000, https://github.com/epiforecasts/contactsurveys.","code":"@Manual{,   title = {contactsurveys: Download Contact Surveys for use in Infectious Disease Modelling},   author = {Sebastian Funk and Lander Willem and Hugo Gruson and Nicholas Tierney},   year = {2026},   note = {R package version 0.0.0.9000},   url = {https://github.com/epiforecasts/contactsurveys}, }"},{"path":"http://epiforecasts.io/contactsurveys/index.html","id":"contactsurveys","dir":"","previous_headings":"","what":"Download Contact Surveys for use in Infectious Disease Modelling","title":"Download Contact Surveys for use in Infectious Disease Modelling","text":"contactsurveys R package download contact survey data, can used derive social mixing matrices (see, example, socialmixr package). code initially socialmixr package, code downloading surveys moved package.","code":""},{"path":"http://epiforecasts.io/contactsurveys/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Download Contact Surveys for use in Infectious Disease Modelling","text":"development version can installed using remotes","code":"remotes::install_github(\"epiforecasts/contactsurveys\")"},{"path":"http://epiforecasts.io/contactsurveys/index.html","id":"example-usage","dir":"","previous_headings":"","what":"Example usage","title":"Download Contact Surveys for use in Infectious Disease Modelling","text":"contactsurveys provides access surveys Social contact data community Zenodo.","code":"library(contactsurveys)"},{"path":"http://epiforecasts.io/contactsurveys/index.html","id":"listing-surveys","dir":"","previous_headings":"","what":"Listing surveys","title":"Download Contact Surveys for use in Infectious Disease Modelling","text":"available surveys can listed (internet connection available) list_surveys() default, survey data list_surveys() effectively cached, run quickly next time run . See ?list_surveys() detail.","code":"social_contact_surveys <- list_surveys(verbose = FALSE) dim(social_contact_surveys) ## [1] 47  4 head(social_contact_surveys) ## Key: <date_added> ##    date_added                             title            creator ##        <char>                            <char>             <char> ## 1: 2017-11-07       POLYMOD social contact data       Joël Mossong ## 2: 2017-12-07      Social contact data for Peru Carlos G. Grijalva ## 3: 2017-12-22  Social contact data for Zimbabwe   Alessia Melegaro ## 4: 2018-01-23    Social contact data for France   Guillaume Béraud ## 5: 2018-02-05 Social contact data for Hong Kong       Kathy  Leung ## 6: 2018-06-14   Social contact data for Vietnam        Horby Peter ##                                       url ##                                    <char> ## 1: https://doi.org/10.5281/zenodo.3874557 ## 2: https://doi.org/10.5281/zenodo.3874805 ## 3: https://doi.org/10.5281/zenodo.3886638 ## 4: https://doi.org/10.5281/zenodo.3886590 ## 5: https://doi.org/10.5281/zenodo.3874808 ## 6: https://doi.org/10.5281/zenodo.3874802"},{"path":"http://epiforecasts.io/contactsurveys/index.html","id":"downloading-surveys","dir":"","previous_headings":"","what":"Downloading surveys","title":"Download Contact Surveys for use in Infectious Disease Modelling","text":"Surveys can downloaded using download_survey(). get relevant data survey given Zenodo DOI (returned list_surveys()).","code":"polymod_doi <- \"https://doi.org/10.5281/zenodo.3874557\" polymod_survey_files <- download_survey(polymod_doi, verbose = FALSE) polymod_survey_files ## [1] \"/Users/runner/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_contact_common.csv\"     ## [2] \"/Users/runner/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_dictionary.xls\"         ## [3] \"/Users/runner/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_hh_common.csv\"          ## [4] \"/Users/runner/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_hh_extra.csv\"           ## [5] \"/Users/runner/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_participant_common.csv\" ## [6] \"/Users/runner/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_participant_extra.csv\"  ## [7] \"/Users/runner/Library/Application Support/org.R-project.R/R/contactsurveys/zenodo.3874557/2008_Mossong_POLYMOD_sday.csv\""},{"path":"http://epiforecasts.io/contactsurveys/index.html","id":"getting-citations","dir":"","previous_headings":"","what":"Getting citations","title":"Download Contact Surveys for use in Infectious Disease Modelling","text":"reference given survey can obtained passing DOI get_citation():","code":"get_citation(polymod_doi, verbose = FALSE) ## @dataset{joel_mossong_2020_3874557, ##   author       = {Joël Mossong and ##                   Niel Hens and ##                   Mark Jit and ##                   Philippe Beutels and ##                   Kari Auranen and ##                   Rafael Mikolajczyk and ##                   Marco Massari and ##                   Stefania Salmaso and ##                   Gianpaolo Scalia Tomba and ##                   Jacco Wallinga and ##                   Janneke Heijne and ##                   Malgorzata Sadkowska-Todys and ##                   Magdalena Rosinska and ##                   W. John Edmunds}, ##   title        = {POLYMOD social contact data}, ##   month        = jun, ##   year         = 2020, ##   publisher    = {Zenodo}, ##   version      = 2, ##   doi          = {10.5281/zenodo.3874557}, ##   url          = {https://doi.org/10.5281/zenodo.3874557}, ## }"},{"path":"http://epiforecasts.io/contactsurveys/index.html","id":"using-contact-matrices-with-socialmixr","dir":"","previous_headings":"","what":"Using contact matrices with socialmixr","title":"Download Contact Surveys for use in Infectious Disease Modelling","text":"can use survey files downloaded functions socialmixr, load_survey() contact_matrix().","code":"library(socialmixr) ##  ## Attaching package: 'socialmixr'  ## The following objects are masked from 'package:contactsurveys': ##  ##     download_survey, get_citation, list_surveys polymod_loaded <- load_survey(polymod_survey_files) ## Warning: No reference provided. uk_contact_matrix <- contact_matrix(       polymod_loaded,       countries = \"United Kingdom\",       age.limits = c(0, 18, 65)     )  uk_contact_matrix ## $matrix ##          contact.age.group ## age.group   [0,18)  [18,65)       65+ ##   [0,18)  7.813187 5.505495 0.2664835 ##   [18,65) 2.103215 8.174281 0.6463621 ##   65+     1.160714 5.464286 1.7142857 ##  ## $participants ##    age.group participants proportion ##       <char>        <int>      <num> ## 1:    [0,18)          364  0.3600396 ## 2:   [18,65)          591  0.5845697 ## 3:       65+           56  0.0553907"},{"path":"http://epiforecasts.io/contactsurveys/index.html","id":"contributors","dir":"","previous_headings":"","what":"Contributors","title":"Download Contact Surveys for use in Infectious Disease Modelling","text":"contributions project gratefully acknowledged using allcontributors package following allcontributors specification. Contributions kind welcome!","code":""},{"path":"http://epiforecasts.io/contactsurveys/index.html","id":"code","dir":"","previous_headings":"Contributors","what":"Code","title":"Download Contact Surveys for use in Infectious Disease Modelling","text":"sbfnk, Bisaloo, njtierney, lwillem, Degoot-, jarvisc1, alxsrobert","code":""},{"path":"http://epiforecasts.io/contactsurveys/index.html","id":"issues","dir":"","previous_headings":"Contributors","what":"Issues","title":"Download Contact Surveys for use in Infectious Disease Modelling","text":"avallecam","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/contactsurveys-package.html","id":null,"dir":"Reference","previous_headings":"","what":"contactsurveys: Download Contact Surveys for use in Infectious Disease Modelling — contactsurveys-package","title":"contactsurveys: Download Contact Surveys for use in Infectious Disease Modelling — contactsurveys-package","text":"Provides methods downloading contact surveys used infectious disease modelling.","code":""},{"path":[]},{"path":"http://epiforecasts.io/contactsurveys/reference/contactsurveys-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"contactsurveys: Download Contact Surveys for use in Infectious Disease Modelling — contactsurveys-package","text":"Maintainer: Sebastian Funk sebastian.funk@lshtm.ac.uk (ORCID) Authors: Lander Willem (ORCID) Hugo Gruson (ORCID) Nicholas Tierney nicholas.tierney@gmail.com (ORCID) contributors: Maria Bekker-Nielsen Dunbar (ORCID) [contributor] Carl . B. Pearson (ORCID) [contributor] Sam Clifford sj.clifford@gmail.com (ORCID) [contributor] Christopher Jarvis (ORCID) [contributor] Alexis Robert alexis.robert@lshtm.ac.uk (ORCID) [contributor] Niel Hens (ORCID) [contributor] Pietro Coletti (ORCID) [collector, data manager]","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/contactsurveys_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Default directory for persistent storage for contact surveys — contactsurveys_dir","title":"Default directory for persistent storage for contact surveys — contactsurveys_dir","text":"Use contactsurveys_dir() view default storage location files downloaded. download_survey() function downloads files contactsurveys_dir(). uses directory specific operating system, powered base function, tools::R_user_dir(). can override setting environment variable, CONTACTSURVEYS_HOME. functions list_surveys() download_survey() use default directory. can also specify directory argument functions place default value, contactsurveys_dir(). approach borrowed Carl Boettiger's neonstore R package.","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/contactsurveys_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default directory for persistent storage for contact surveys — contactsurveys_dir","text":"","code":"contactsurveys_dir()"},{"path":"http://epiforecasts.io/contactsurveys/reference/contactsurveys_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Default directory for persistent storage for contact surveys — contactsurveys_dir","text":"active contactsurveys directory.","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/contactsurveys_dir.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Default directory for persistent storage for contact surveys — contactsurveys_dir","text":"","code":"contactsurveys_dir() #> [1] \"/home/runner/.local/share/R/contactsurveys\"  ## Override with an environment variable: Sys.setenv(CONTACTSURVEYS_HOME = tempdir()) contactsurveys_dir() #> [1] \"/tmp/RtmpewBuCK\" ## Unset Sys.unsetenv(\"CONTACTSURVEYS_HOME\")"},{"path":"http://epiforecasts.io/contactsurveys/reference/delete-files.html","id":null,"dir":"Reference","previous_headings":"","what":"Delete files in contactsurveys directory — delete_contactsurveys_files","title":"Delete files in contactsurveys directory — delete_contactsurveys_files","text":"Delete files contactsurveys directory","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/delete-files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Delete files in contactsurveys directory — delete_contactsurveys_files","text":"","code":"delete_contactsurveys_files(dir = contactsurveys_dir())  delete_contactsurveys_dir(dir = contactsurveys_dir())"},{"path":"http://epiforecasts.io/contactsurveys/reference/delete-files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Delete files in contactsurveys directory — delete_contactsurveys_files","text":"dir directory list files delete ","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/delete-files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Delete files in contactsurveys directory — delete_contactsurveys_files","text":"nothing, deletes files.","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/delete-files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Delete files in contactsurveys directory — delete_contactsurveys_files","text":"","code":"if (FALSE) { # \\dontrun{ delete_contactsurveys_files() } # }"},{"path":"http://epiforecasts.io/contactsurveys/reference/delete_survey.html","id":null,"dir":"Reference","previous_headings":"","what":"Delete files for a given survey — delete_survey","title":"Delete files for a given survey — delete_survey","text":"want delete files associated given survey.","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/delete_survey.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Delete files for a given survey — delete_survey","text":"","code":"delete_survey(survey)"},{"path":"http://epiforecasts.io/contactsurveys/reference/delete_survey.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Delete files for a given survey — delete_survey","text":"survey Survey, used download_survey().","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/delete_survey.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Delete files for a given survey — delete_survey","text":"nothing, deleted files","code":""},{"path":[]},{"path":"http://epiforecasts.io/contactsurveys/reference/delete_survey.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Delete files for a given survey — delete_survey","text":"","code":"if (FALSE) { # \\dontrun{ peru_doi <- \"https://doi.org/10.5281/zenodo.1095664\" delete_survey(peru_doi) } # }"},{"path":"http://epiforecasts.io/contactsurveys/reference/download_survey.html","id":null,"dir":"Reference","previous_headings":"","what":"Download a survey from its Zenodo repository — download_survey","title":"Download a survey from its Zenodo repository — download_survey","text":"Downloads survey data. Uses caching mechanism via default argument directory.","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/download_survey.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download a survey from its Zenodo repository — download_survey","text":"","code":"download_survey(   survey,   directory = contactsurveys_dir(),   verbose = TRUE,   overwrite = FALSE,   timeout = 3600,   rate = purrr::rate_backoff(pause_base = 5, max_times = 4) )"},{"path":"http://epiforecasts.io/contactsurveys/reference/download_survey.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download a survey from its Zenodo repository — download_survey","text":"survey DOI survey, (see list_surveys()). HTML link given, DOI isolated used. directory Directory save survey files. default value use directory system using contactsurveys_dir(), uses tools::R_user_dir(), appends survey URL/DOI basename new directory. E.g., provide survey argument, \"10.5281/zenodo.1095664\", save surveys directory zenodo.1095664 contactsurveys_dir() effectively caches data. can specify directory, set environment variable, CONTACTSURVEYS_HOME, see Sys.setenv() Renviron detail. argument set something contactsurveys_dir(), warning issued discourage unnecessary downloads outside persistent cache. Note identical content accessed via different identifiers (e.g., DOI vs. resolved record URL) cached separate directories design. verbose Whether downloads echoed output. Default TRUE. overwrite files overwritten already exist. Default FALSE timeout numeric value specifying timeout seconds. Default 3600 seconds. rate purrr rate object, facilitate downloading download fails. Defaults exponential backoff 5 seconds (4 attempts: 1 initial + 3 retries) changed specifying rate object, see ?purrr::rate_backoff() details.","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/download_survey.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download a survey from its Zenodo repository — download_survey","text":"vector filenames, surveys downloaded","code":""},{"path":[]},{"path":"http://epiforecasts.io/contactsurveys/reference/download_survey.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download a survey from its Zenodo repository — download_survey","text":"","code":"if (FALSE) { # \\dontrun{ list_surveys() peru_survey <- download_survey(\"https://doi.org/10.5281/zenodo.1095664\") } # }"},{"path":"http://epiforecasts.io/contactsurveys/reference/get_citation.html","id":null,"dir":"Reference","previous_headings":"","what":"Get citation from a DOI — get_citation","title":"Get citation from a DOI — get_citation","text":"wrapper around zen4R::get_citation() couple smaller changes. Firstly, silences output zen4R::get_citation(), secondly default citation style \"apa\".","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/get_citation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get citation from a DOI — get_citation","text":"","code":"get_citation(   doi,   style = c(\"bibtex\", \"apa\", \"havard-cite-them-right\", \"modern-language-association\",     \"vancouver\", \"chicago-fullnote-bibliography\", \"ieee\"),   verbose = TRUE )"},{"path":"http://epiforecasts.io/contactsurveys/reference/get_citation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get citation from a DOI — get_citation","text":"doi string, Zenodo DOI concept DOI. style string, citation style. Default \"bibtex\". Possible values : \"bibtex\", \"havard-cite--right\", \"apa\", \"modern-language-association\", \"vancouver\", \"chicago-fullnote-bibliography\", \"ieee\". verbose logical. messages citation fetching print screen? Default TRUE.","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/get_citation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get citation from a DOI — get_citation","text":"","code":"if (FALSE) { # \\dontrun{ polymod_doi <- \"https://doi.org/10.5281/zenodo.3874557\" get_citation(polymod_doi) } # }"},{"path":"http://epiforecasts.io/contactsurveys/reference/is_doi.html","id":null,"dir":"Reference","previous_headings":"","what":"Checks if a character string is a DOI — is_doi","title":"Checks if a character string is a DOI — is_doi","text":"Checks character string DOI","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/is_doi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Checks if a character string is a DOI — is_doi","text":"","code":"is_doi(x)"},{"path":"http://epiforecasts.io/contactsurveys/reference/is_doi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Checks if a character string is a DOI — is_doi","text":"x Character vector; string strings check","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/is_doi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Checks if a character string is a DOI — is_doi","text":"Logical; TRUE x DOI, FALSE otherwise","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/is_doi.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Checks if a character string is a DOI — is_doi","text":"Sebastian Funk","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/is_online.html","id":null,"dir":"Reference","previous_headings":"","what":"Are we online? — is_online","title":"Are we online? — is_online","text":"online?","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/is_online.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Are we online? — is_online","text":"","code":"is_online(host = \"captive.apple.com\")"},{"path":"http://epiforecasts.io/contactsurveys/reference/is_online.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Are we online? — is_online","text":"host Hostname resolve, default \"captive.apple.com\".","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/is_online.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Are we online? — is_online","text":"logical - TRUE online, FALSE otherwise","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/is_online.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Are we online? — is_online","text":"","code":"is_online() #> [1] TRUE"},{"path":"http://epiforecasts.io/contactsurveys/reference/list_surveys.html","id":null,"dir":"Reference","previous_headings":"","what":"List all surveys available for download — list_surveys","title":"List all surveys available for download — list_surveys","text":"List surveys available download","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/list_surveys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all surveys available for download — list_surveys","text":"","code":"list_surveys(   directory = contactsurveys_dir(),   overwrite = FALSE,   verbose = TRUE,   rate = purrr::rate_backoff(pause_base = 5, max_times = 4) )"},{"path":"http://epiforecasts.io/contactsurveys/reference/list_surveys.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List all surveys available for download — list_surveys","text":"directory Directory save survey files. default value use directory system using contactsurveys_dir(), uses tools::R_user_dir(), appends survey URL/DOI basename new directory. E.g., provide survey argument, \"10.5281/zenodo.1095664\", save surveys directory zenodo.1095664 contactsurveys_dir() effectively caches data. can specify directory, set environment variable, CONTACTSURVEYS_HOME, see Sys.setenv() Renviron detail. argument set something contactsurveys_dir(), warning issued discourage unnecessary downloads outside persistent cache. Note identical content accessed via different identifiers (e.g., DOI vs. resolved record URL) cached separate directories design. overwrite files overwritten already exist. Default FALSE verbose Whether downloads echoed output. Default TRUE. rate purrr rate object, facilitate downloading download fails. Defaults exponential backoff 5 seconds (4 attempts: 1 initial + 3 retries) changed specifying rate object, see ?purrr::rate_backoff() details.","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/list_surveys.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List all surveys available for download — list_surveys","text":"data.table columns: date_added, title, creator, url","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/list_surveys.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List all surveys available for download — list_surveys","text":"","code":"if (FALSE) { # \\dontrun{ list_surveys() } # }"},{"path":"http://epiforecasts.io/contactsurveys/reference/ls_contactsurveys.html","id":null,"dir":"Reference","previous_headings":"","what":"List files in contactsurveys cache — ls_contactsurveys","title":"List files in contactsurveys cache — ls_contactsurveys","text":"can handy see files available, sometimes return clean slate delete via delete_contactsurveys_*() functions.","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/ls_contactsurveys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List files in contactsurveys cache — ls_contactsurveys","text":"","code":"ls_contactsurveys(dir = contactsurveys_dir())"},{"path":"http://epiforecasts.io/contactsurveys/reference/ls_contactsurveys.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List files in contactsurveys cache — ls_contactsurveys","text":"dir Directory list. Default contactsurveys_dir().","code":""},{"path":"http://epiforecasts.io/contactsurveys/reference/ls_contactsurveys.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List files in contactsurveys cache — ls_contactsurveys","text":"Character vector file paths dir (absolute paths).","code":""},{"path":[]},{"path":"http://epiforecasts.io/contactsurveys/reference/ls_contactsurveys.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List files in contactsurveys cache — ls_contactsurveys","text":"","code":"ls_contactsurveys() #> character(0)"},{"path":"http://epiforecasts.io/contactsurveys/news/index.html","id":"contactsurveys-development-version","dir":"Changelog","previous_headings":"","what":"contactsurveys (development version)","title":"contactsurveys (development version)","text":"Added NEWS file Added verbosity list_surveys() Added get_citation() - Resolves #38 Added bibtex citation style default get_citation() - Resolves #52 Fixed verbosity issue importing purrr::quietly - Resolves #68 Improved cache management avoiding unnecessary Zenodo API calls storing survey subdirectory named survey’s DOI/URL basename — Resolves #72 Added rate argument download_survey() list_surveys() allow retrying download fails, sensible fashion, using purrr::insistently() - Resolves #72 Added helpers list delete files directories contactsurveys_dir() ({ls_contactsurveys()}, {delete_contactsurveys_files()}, {delete_contactsurveys_dir()}, {delete_survey()}). Resolves #75, #76, #77","code":""}]
